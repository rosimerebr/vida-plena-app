<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Profile</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  <div class="profile-back-btn">
    <ion-button fill="clear" (click)="goBack()">
      <ion-icon name="arrow-back-circle"></ion-icon>
    </ion-button>
  </div>
  <div class="profile-container">
    <h2>My Profile</h2>
    <div *ngIf="loading">Loading...</div>
    <div *ngIf="error" class="error-message">{{ error }}</div>
    <form *ngIf="!loading && !error">
      <ion-item>
        <ion-input label="Full name:" [(ngModel)]="user.fullName" name="fullName" placeholder="Enter your full name"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input label="Email:" [(ngModel)]="user.email" name="email" type="email" placeholder="Enter your email"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input label="Date of birth:" [(ngModel)]="user.dateOfBirth" name="dateOfBirth" placeholder="YYYY-MM-DD"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input label="Weight (kg):" [(ngModel)]="user.weight" name="weight" type="number" placeholder="Enter your weight"></ion-input>
      </ion-item>
      <ion-button expand="block" color="success" (click)="onSave()" [disabled]="saving">
        <ion-icon *ngIf="saving" name="refresh" class="ion-spin" slot="start"></ion-icon>
        Save
      </ion-button>
      <div *ngIf="success" class="success-message">{{ success }}</div>
    </form>
    <ion-button expand="block" color="medium" (click)="onChangePassword()" style="margin-top: 16px;">
      <ion-icon name="lock" slot="start"></ion-icon>
      Change password
    </ion-button>
    <ion-button expand="block" color="danger" (click)="onLogout()" style="margin-top: 8px;">
      <ion-icon name="log-out" slot="start"></ion-icon>
      Logout
    </ion-button>
  </div>
</ion-content> 