import{a as O}from"./chunk-EHXYUA74.js";import{a as M}from"./chunk-RM6A764G.js";import{d as w,j as y}from"./chunk-2K5QMXBX.js";import{B as f,E as c,F as b,G as r,H as i,I as p,Ua as k,V as a,W as h,X as d,da as u,g as m,ga as v,i as s,ia as C,u as o,v as g,x}from"./chunk-UHUJHXAD.js";import"./chunk-RHZBV3UF.js";import"./chunk-34QWLOQV.js";import"./chunk-MZFQXXBY.js";import"./chunk-IIMO22WL.js";import"./chunk-JWOVPSB7.js";import"./chunk-R5HL6L5F.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var P=(()=>{class e{constructor(t){this.http=t}getWeeklyReport(){return this.http.get(`${M.apiUrl}/report`)}static{this.\u0275fac=function(n){return new(n||e)(s(C))}}static{this.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function D(e,_){if(e&1&&(r(0,"div",13),p(1,"div",14),r(2,"div",15),a(3),i()()),e&2){let t=_.$implicit;o(),b("height",t.value*12.5,"%"),o(2),h(t.label)}}var U=(()=>{class e{constructor(t){this.reportService=t,this.today="",this.weekData=[{label:"S",value:6},{label:"M",value:5},{label:"T",value:5},{label:"W",value:4},{label:"T",value:4},{label:"F",value:4},{label:"S",value:3}],this.streak=5,this.totalCompleted=32,this.reportData=null}ngOnInit(){let t=new Date;this.today=t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),this.reportService.getWeeklyReport().subscribe({next:n=>{this.reportData=n,console.log("Weekly report received:",n)},error:n=>{console.error("Error fetching weekly report:",n)}})}static{this.\u0275fac=function(n){return new(n||e)(g(P))}}static{this.\u0275cmp=x({type:e,selectors:[["app-report"]],decls:19,vars:5,consts:[[3,"fullscreen"],[1,"report-main-container"],[1,"report-title"],[1,"report-card"],[1,"report-bar-chart"],["class","bar-group",4,"ngFor","ngForOf"],[3,"weekData"],[1,"report-stats"],[1,"streak-row"],["name","flame",1,"streak-icon"],[1,"streak-text"],[1,"total-remedies"],[1,"report-message-card"],[1,"bar-group"],[1,"bar"],[1,"bar-label"]],template:function(n,l){n&1&&(r(0,"ion-content",0)(1,"div",1)(2,"div",2),a(3,"Report"),i(),r(4,"div",3)(5,"div",4),f(6,D,4,3,"div",5),p(7,"app-bar-chart",6),i(),r(8,"div",7)(9,"div",8),p(10,"ion-icon",9),r(11,"span",10),a(12),i()(),r(13,"div",11),a(14),i()()(),r(15,"div",12),a(16," Great job! Keep your"),p(17,"br"),a(18,"healthy habits strong "),i()()()),n&2&&(c("fullscreen",!0),o(6),c("ngForOf",l.weekData),o(),c("weekData",l.weekData),o(5),d("",l.streak,"-day streak"),o(2),d("Total Remedies Completed: ",l.totalCompleted,""))},dependencies:[w,v,u,k,y,O],styles:[".report-container[_ngcontent-%COMP%]{background:#fff;border-radius:28px;box-shadow:0 2px 16px #0000000f;max-width:400px;margin:40px auto 0;padding:32px 24px 28px;display:flex;flex-direction:column;align-items:stretch}.report-date[_ngcontent-%COMP%]{background:#f5ede3;color:#2e473b;font-size:1.6rem;font-weight:600;border-radius:18px;padding:10px 0;text-align:center;margin-bottom:28px}.report-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:24px}.report-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;border-bottom:1px solid #e6e6e6;padding:8px 0}.report-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.report-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;color:#2e473b;min-width:32px}.report-label[_ngcontent-%COMP%]{flex:1;font-size:1.18rem;color:#2e473b;font-weight:500}ion-toggle[_ngcontent-%COMP%]{--handle-background-checked: #4b6e5c;--handle-background: #e6e6e6;--background-checked: #dbe7df;--background: #e6e6e6;margin-right:0}.report-notes-label[_ngcontent-%COMP%]{font-size:1.1rem;color:#2e473b;font-weight:500;margin:18px 0 6px}.report-notes[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;border:1px solid #e6e6e6;font-size:1rem;padding:10px 12px;margin-bottom:22px;min-height:48px}.report-save-btn[_ngcontent-%COMP%]{--background: #4b6e5c;--border-radius: 16px;font-size:1.2rem;font-weight:700;letter-spacing:.5px;height:48px}.report-main-container[_ngcontent-%COMP%]{min-height:100vh;background:#d7f1c3;display:flex;flex-direction:column;align-items:center;padding:32px 0}.report-title[_ngcontent-%COMP%]{font-size:2.3rem;font-weight:700;color:#22332a;margin-bottom:24px;text-align:center}.report-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;box-shadow:0 2px 16px #0000000f;padding:32px 24px 18px;max-width:420px;width:100%;margin-bottom:28px;display:flex;flex-direction:column;align-items:center}.report-bar-chart[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;width:100%;height:180px;background:#f8fbf6;border-radius:16px;padding:18px 18px 0;margin-bottom:18px}.bar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1}.bar[_ngcontent-%COMP%]{width:24px;background:#a5d6a7;border-radius:8px 8px 0 0;margin-bottom:8px;transition:height .3s}.bar-label[_ngcontent-%COMP%]{font-size:1.1rem;color:#7a8c7a;margin-top:2px}.report-stats[_ngcontent-%COMP%]{width:100%;margin-top:10px;text-align:center}.streak-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:1.25rem;font-weight:600;margin-bottom:6px}.streak-icon[_ngcontent-%COMP%]{color:#ff7043;font-size:1.5rem;margin-right:6px}.streak-text[_ngcontent-%COMP%]{color:#22332a}.total-remedies[_ngcontent-%COMP%]{font-size:1.18rem;color:#22332a;font-weight:500}.report-message-card[_ngcontent-%COMP%]{background:#fff;border-radius:18px;box-shadow:0 2px 8px #0000000a;padding:22px 18px;max-width:420px;width:100%;font-size:1.35rem;color:#22332a;text-align:center;font-weight:500}"]})}}return e})();export{U as ReportPage};
